import{ay as c}from"./entry.QVgBm2iM.js";const i="AKfycbxsmJ6CWp-ffRH_YOu1n2eB-JVDvE-gc4OQSGJ6jYx2XPNsveut7C4NmfDiRGwthTQoXg",e=`https://script.google.com/macros/s/${i}/exec`,a=c("store",{state:()=>({cart:{},isLoading:!1,products:{},tmpProduct:null,tmpProductName:null,tmpOptionIndex:-1,cartCount:1,apiURL:e}),actions:{addToCart(t,r,s){r===-1&&(r=0),this.cart[`${t}`]?this.cart[`${t}`][r]?this.cart[`${t}`][r]+=s:this.cart[`${t}`][r]=s:this.cart[`${t}`]={[r]:s}},removeFromCart(t,r){console.log(t,r),this.cart[`${t}`]&&(this.cart[`${t}`][r]&&delete this.cart[`${t}`][r],Object.keys(this.cart[`${t}`]).length===0&&delete this.cart[`${t}`])},async getProductsFromAPI(){await fetch(`${e}`).then(async t=>{this.products=await t.json()})},async getProductFromAPI(t){return await fetch(`${e}?name=${t}`).then(async r=>(this.tmpProduct=await r.json(),!(!this.tmpProduct||!this.tmpProduct.price||!this.tmpProduct.price.min))).catch(r=>{console.error(r)}),!1},goToProduct(t){this.tmpProduct=this.products[`${t}`]},resetTmpObjectIndex(){this.tmpOptionIndex=-1},resetCartCount(){this.cartCount=1}},getters:{getTotal(){let t=0;for(const r in this.cart)for(const s in this.cart[r])this.products[r].options.length===0?t+=this.cart[r][s]*this.products[r].price.min:t+=this.cart[r][s]*(this.products[r].options[s].price||this.products[r].price.min);return t},getCartCount(){let t=0;for(const r in this.cart)t+=Object.keys(this.cart[r]).length;return t},getProducts(){return this.products},getProduct(){return this.products[`${this.tmpProductName}`]||null}},persist:{paths:["cart"]}});export{a as u};
